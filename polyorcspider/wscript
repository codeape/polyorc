
def configure(ctx):
    print("polyorcspider configure")
    ctx.libckok('libcurl', 'curl/curl.h')
    ctx.libckok('libev', 'ev.h')
    ctx.libckok('argp', 'argp.h')
    ctx.define('ORC_NAME', "polyorcspider")
    ctx.write_config_header('config.h')

def build(ctx):
    ctx.program(
        source      = 'main.c spider.c',
        target      = 'polyorcspider',
        includes    = '.',
        lib         = ['curl', 'argp', 'ev'],
        libpath     = ['/usr/lib', '/usr/local/lib'],
        cflags      = [ '-Wall', '-g' ],
        use         = 'intern_polyorclib'
    )
